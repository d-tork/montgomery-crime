input {
	file {
		path => "/Volumes/Maxtor/crime/Montgomery_county_crime.csv"
		start_position => "beginning"
		sincedb_path => "/dev/null"
  }
}

filter {
  csv {
    separator => ","
    columns => [
		"Incident ID",
		"Offence Code",
		"CR Number",
		"Dispatch Date / Time",
		"NIBRS Code",
		"Victims",
		"Crime Name1",
		"Crime Name2",
		"Crime Name3",
		"Police District Name",
		"Block Address",
		"City",
		"State",
		"Zip Code",
		"Agency",
		"Place",
		"Sector",
		"Beat",
		"PRA",
		"Address Number",
		"Street Prefix",
		"Street Name",
		"Street Suffix",
		"Street Type",
		"Start_Date_Time",
		"End_Date_Time",
		"Latitude",
		"Longitude",
		"Police District Number",
	]
  }

	mutate { convert => {"Latitude" => "float"} }
	mutate { convert => {"Longitude" => "float"} }
	mutate { rename => {"Latitude" => "[location][lat]"} }
	mutate { rename => {"Longitude" => "[location][lon]"} }
}

output {
	elasticsearch {
		template => "/Volumes/Maxtor/crime/Montgomery_index_template.json"
		template_overwrite => true
		action => "index"
		hosts => "192.168.1.145"
		index => crime_montgomery_1
		workers => 1
	}
	stdout {}
}
